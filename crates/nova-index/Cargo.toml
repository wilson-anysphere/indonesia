[package]
name = "nova-index"
version.workspace = true
edition = "2021"

[dependencies]
blake3 = "1.5"
fs2 = "0.4"
nova-cache = { path = "../nova-cache" }
nova-core = { path = "../nova-core" }
nova-fuzzy = { path = "../nova-fuzzy" }
nova-hir = { path = "../nova-hir" }
nova-memory = { path = "../nova-memory" }
nova-build-model = { path = "../nova-build-model" }
nova-syntax = { path = "../nova-syntax" }
nova-storage = { path = "../nova-storage" }
rkyv = { version = "0.7", features = ["validation"] }
serde = { version = "1", features = ["derive"] }
serde_json = "1"
thiserror = "1"
tracing = { workspace = true }

[dev-dependencies]
tempfile = "3"
criterion = "0.5"

[features]
# Enables Unicode-aware workspace symbol search by forwarding to `nova-fuzzy`'s
# Unicode matching implementation.
unicode = ["nova-fuzzy/unicode"]

[[bench]]
name = "mmap_storage"
harness = false

[[bench]]
name = "symbol_search"
harness = false
