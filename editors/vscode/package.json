{
  "name": "nova-vscode",
  "displayName": "Nova",
  "description": "Nova Java language support powered by nova-lsp",
  "version": "0.1.0",
  "publisher": "nova",
  "private": true,
  "repository": {
    "type": "git",
    "url": "https://github.com/wilson-anysphere/indonesia"
  },
  "engines": {
    "vscode": "^1.85.0"
  },
  "categories": [
    "Programming Languages"
  ],
    "activationEvents": [
    "onLanguage:java",
    "onView:novaFrameworks",
    "onView:novaProjectExplorer",
    "onCommand:nova.installOrUpdateServer",
    "onCommand:nova.useLocalServerBinary",
    "onCommand:nova.showServerVersion",
    "onCommand:nova.showBinaryStatus",
    "onCommand:nova.installOrUpdateDebugAdapter",
    "onCommand:nova.useLocalDebugAdapterBinary",
    "onCommand:nova.showDebugAdapterVersion",
    "onCommand:nova.organizeImports",
    "onCommand:nova.ai.showExplainError",
    "onCommand:nova.ai.showGenerateMethodBody",
    "onCommand:nova.ai.showGenerateTests",
    "onCommand:nova.bugReport",
    "onCommand:nova.buildProject",
    "onCommand:nova.showRequestMetrics",
    "onCommand:nova.resetRequestMetrics",
    "onCommand:nova.discoverTests",
    "onCommand:nova.reloadProject",
    "onCommand:nova.runTestInteractive",
    "onCommand:nova.debugTestInteractive",
    "onCommand:nova.runMainInteractive",
    "onCommand:nova.debugMainInteractive",
    "onCommand:nova.addDebugConfiguration",
    "onCommand:nova.frameworks.search",
    "onCommand:nova.frameworks.refresh",
    "onCommand:nova.frameworks.open",
    "onCommand:nova.hotSwapChangedFiles",
    "onCommand:nova.frameworks.copyEndpointPath",
    "onCommand:nova.frameworks.copyEndpointMethodAndPath",
    "onCommand:nova.frameworks.copyBeanId",
    "onCommand:nova.frameworks.copyBeanType",
    "onCommand:nova.frameworks.revealInExplorer",
    "onCommand:nova.refreshProjectExplorer",
      "onCommand:nova.showProjectModel",
      "onCommand:nova.showProjectConfiguration",
      "onCommand:nova.projectExplorer.revealPath",
      "onCommand:nova.projectExplorer.copyPath",
      "onDebug"
    ],
  "main": "./out/extension.js",
  "contributes": {
    "commands": [
      {
        "command": "nova.installOrUpdateServer",
        "title": "Nova: Install/Update Server"
      },
      {
        "command": "nova.useLocalServerBinary",
        "title": "Nova: Use Local Server Binary..."
      },
      {
        "command": "nova.showServerVersion",
        "title": "Nova: Show Server Version"
      },
      {
        "command": "nova.showBinaryStatus",
        "title": "Nova: Show Binary Status"
      },
      {
        "command": "nova.installOrUpdateDebugAdapter",
        "title": "Nova: Install/Update Debug Adapter"
      },
      {
        "command": "nova.useLocalDebugAdapterBinary",
        "title": "Nova: Use Local Debug Adapter Binary..."
      },
      {
        "command": "nova.showDebugAdapterVersion",
        "title": "Nova: Show Debug Adapter Version"
      },
      {
        "command": "nova.organizeImports",
        "title": "Nova: Organize Imports"
      },
      {
        "command": "nova.ai.showExplainError",
        "title": "Nova AI: Explain Error"
      },
      {
        "command": "nova.ai.showGenerateMethodBody",
        "title": "Nova AI: Generate Method Body"
      },
      {
        "command": "nova.ai.showGenerateTests",
        "title": "Nova AI: Generate Tests"
      },
      {
        "command": "nova.bugReport",
        "title": "Nova: Generate Bug Report"
      },
      {
        "command": "nova.buildProject",
        "title": "Nova: Build Project"
      },
      {
        "command": "nova.showRequestMetrics",
        "title": "Nova: Show Request Metrics"
      },
      {
        "command": "nova.resetRequestMetrics",
        "title": "Nova: Reset Request Metrics"
      },
      {
        "command": "nova.discoverTests",
        "title": "Nova: Discover Tests"
      },
      {
        "command": "nova.reloadProject",
        "title": "Nova: Reload Project"
      },
      {
        "command": "nova.runTestInteractive",
        "title": "Nova: Run Test"
      },
      {
        "command": "nova.debugTestInteractive",
        "title": "Nova: Debug Test"
      },
      {
        "command": "nova.runMainInteractive",
        "title": "Nova: Run Main\u2026"
      },
      {
        "command": "nova.debugMainInteractive",
        "title": "Nova: Debug Main\u2026"
      },
      {
        "command": "nova.addDebugConfiguration",
        "title": "Nova: Add Debug Configuration\u2026"
      },
      {
        "command": "nova.hotSwapChangedFiles",
        "title": "Nova: Hot Swap Changed Files"
      },
      {
        "command": "nova.frameworks.search",
        "title": "Nova: Search Framework Items\u2026",
        "icon": {
          "light": "resources/light/search.svg",
          "dark": "resources/dark/search.svg"
        }
      },
      {
        "command": "nova.frameworks.refresh",
        "title": "Nova: Refresh Frameworks",
        "icon": {
          "light": "resources/light/refresh.svg",
          "dark": "resources/dark/refresh.svg"
        }
      },
      {
        "command": "nova.frameworks.open",
        "title": "Nova: Open Framework Item"
      },
      {
        "command": "nova.frameworks.copyEndpointPath",
        "title": "Nova: Copy Endpoint Path"
      },
      {
        "command": "nova.frameworks.copyEndpointMethodAndPath",
        "title": "Nova: Copy Endpoint Method + Path"
      },
      {
        "command": "nova.frameworks.copyBeanId",
        "title": "Nova: Copy Bean Id"
      },
      {
        "command": "nova.frameworks.copyBeanType",
        "title": "Nova: Copy Bean Type"
      },
      {
        "command": "nova.frameworks.revealInExplorer",
        "title": "Nova: Reveal In Explorer"
      },
      {
        "command": "nova.refreshProjectExplorer",
        "title": "Nova: Refresh Project Explorer",
        "icon": {
          "light": "resources/light/refresh.svg",
          "dark": "resources/dark/refresh.svg"
        }
      },
      {
        "command": "nova.showProjectModel",
        "title": "Nova: Show Project Model"
      },
      {
        "command": "nova.showProjectConfiguration",
        "title": "Nova: Show Project Configuration"
      },
      {
        "command": "nova.projectExplorer.revealPath",
        "title": "Nova: Reveal Path"
      },
      {
        "command": "nova.projectExplorer.copyPath",
        "title": "Nova: Copy Path"
      }
    ],
    "views": {
      "explorer": [
        {
          "id": "novaFrameworks",
          "name": "Nova Frameworks"
        },
        {
          "id": "novaProjectExplorer",
          "name": "Nova Project"
        }
      ]
    },
    "viewsWelcome": [
      {
        "view": "novaFrameworks",
        "contents": "Open a folder to see the Nova Frameworks dashboard.\n\n[Open Folder](command:workbench.action.files.openFolder)",
        "when": "workspaceFolderCount == 0"
      },
      {
        "view": "novaFrameworks",
        "contents": "Nova's language server is not running.\n\n[Install/Update Server](command:nova.installOrUpdateServer)",
        "when": "workspaceFolderCount > 0 && !nova.frameworks.serverRunning"
      },
      {
        "view": "novaFrameworks",
        "contents": "Nova is running in safe mode.\n\n[Generate Bug Report](command:nova.bugReport)",
        "when": "workspaceFolderCount > 0 && nova.frameworks.serverRunning && nova.frameworks.safeMode"
      },
      {
        "view": "novaFrameworks",
        "contents": "This version of Nova does not support web endpoint discovery.\n\n- Upgrade Nova / update the server.\n- Check your server version: [Nova: Show Server Version](command:nova.showServerVersion)",
        "when": "workspaceFolderCount > 0 && nova.frameworks.serverRunning && !nova.frameworks.safeMode && !nova.frameworks.webEndpointsSupported"
      },
      {
        "view": "novaFrameworks",
        "contents": "This version of Nova does not support Micronaut endpoint discovery.\n\n- Upgrade Nova / update the server.\n- Check your server version: [Nova: Show Server Version](command:nova.showServerVersion)",
        "when": "workspaceFolderCount > 0 && nova.frameworks.serverRunning && !nova.frameworks.safeMode && nova.frameworks.webEndpointsSupported && !nova.frameworks.micronautEndpointsSupported"
      },
      {
        "view": "novaFrameworks",
        "contents": "This version of Nova does not support Micronaut bean discovery.\n\n- Upgrade Nova / update the server.\n- Check your server version: [Nova: Show Server Version](command:nova.showServerVersion)",
        "when": "workspaceFolderCount > 0 && nova.frameworks.serverRunning && !nova.frameworks.safeMode && nova.frameworks.webEndpointsSupported && !nova.frameworks.micronautBeansSupported"
      },
      {
        "view": "novaProjectExplorer",
        "contents": "Open a folder to view the Nova project model.\n\n[Open Folder](command:workbench.action.files.openFolder)",
        "when": "workspaceFolderCount == 0"
      },
      {
        "view": "novaProjectExplorer",
        "contents": "Nova's language server is not running.\n\n[Install/Update Server](command:nova.installOrUpdateServer)",
        "when": "workspaceFolderCount > 0 && !nova.frameworks.serverRunning"
      },
      {
        "view": "novaProjectExplorer",
        "contents": "Nova is running in safe mode.\n\n[Generate Bug Report](command:nova.bugReport)",
        "when": "workspaceFolderCount > 0 && nova.frameworks.serverRunning && nova.frameworks.safeMode"
      },
      {
        "view": "novaProjectExplorer",
        "contents": "This version of Nova does not support the project model.\n\n- Upgrade Nova / update the server.\n- Check your server version: [Nova: Show Server Version](command:nova.showServerVersion)",
        "when": "workspaceFolderCount > 0 && nova.frameworks.serverRunning && !nova.frameworks.safeMode && !nova.projectExplorer.projectModelSupported"
      }
    ],
    "menus": {
      "view/title": [
        {
          "command": "nova.frameworks.refresh",
          "when": "view == novaFrameworks",
          "group": "navigation@1"
        },
        {
          "command": "nova.frameworks.search",
          "when": "view == novaFrameworks",
          "group": "navigation@2"
        },
        {
          "command": "nova.refreshProjectExplorer",
          "when": "view == novaProjectExplorer",
          "group": "navigation"
        },
        {
          "command": "nova.showProjectModel",
          "when": "view == novaProjectExplorer",
          "group": "navigation"
        },
        {
          "command": "nova.showProjectConfiguration",
          "when": "view == novaProjectExplorer",
          "group": "navigation"
        }
      ],
      "view/item/context": [
        {
          "command": "nova.frameworks.open",
          "when": "view == novaFrameworks && viewItem == novaFrameworkEndpoint",
          "group": "navigation@0"
        },
        {
          "command": "nova.frameworks.copyEndpointPath",
          "when": "view == novaFrameworks && viewItem == novaFrameworkEndpoint",
          "group": "clipboard@1"
        },
        {
          "command": "nova.frameworks.copyEndpointMethodAndPath",
          "when": "view == novaFrameworks && viewItem == novaFrameworkEndpoint",
          "group": "clipboard@2"
        },
        {
          "command": "nova.frameworks.revealInExplorer",
          "when": "view == novaFrameworks && viewItem == novaFrameworkEndpoint",
          "group": "navigation@1"
        },
        {
          "command": "nova.frameworks.copyBeanId",
          "when": "view == novaFrameworks && viewItem == novaFrameworkBean",
          "group": "clipboard@1"
        },
        {
          "command": "nova.frameworks.copyBeanType",
          "when": "view == novaFrameworks && viewItem == novaFrameworkBean",
          "group": "clipboard@2"
        },
        {
          "command": "nova.frameworks.open",
          "when": "view == novaFrameworks && viewItem == novaFrameworkBean",
          "group": "navigation@0"
        },
        {
          "command": "nova.frameworks.revealInExplorer",
          "when": "view == novaFrameworks && viewItem == novaFrameworkBean",
          "group": "navigation@1"
        },
        {
          "command": "nova.refreshProjectExplorer",
          "when": "view == novaProjectExplorer && viewItem == novaProjectExplorerWorkspace",
          "group": "navigation@0"
        },
        {
          "command": "nova.showProjectModel",
          "when": "view == novaProjectExplorer && viewItem == novaProjectExplorerWorkspace",
          "group": "navigation@1"
        },
        {
          "command": "nova.showProjectConfiguration",
          "when": "view == novaProjectExplorer && viewItem == novaProjectExplorerWorkspace",
          "group": "navigation@2"
        },
        {
          "command": "nova.reloadProject",
          "when": "view == novaProjectExplorer && viewItem == novaProjectExplorerWorkspace",
          "group": "inline"
        },
        {
          "command": "nova.buildProject",
          "when": "view == novaProjectExplorer && viewItem == novaProjectExplorerWorkspace",
          "group": "inline"
        },
        {
          "command": "nova.buildProject",
          "when": "view == novaProjectExplorer && viewItem == novaProjectExplorerUnit",
          "group": "inline"
        },
        {
          "command": "nova.reloadProject",
          "when": "view == novaProjectExplorer && viewItem == novaProjectExplorerUnit",
          "group": "inline"
        },
        {
          "command": "nova.projectExplorer.copyPath",
          "when": "view == novaProjectExplorer && viewItem == novaProjectExplorerPath",
          "group": "clipboard@0"
        },
        {
          "command": "nova.projectExplorer.copyPath",
          "when": "view == novaProjectExplorer && viewItem == novaProjectExplorerWorkspace",
          "group": "clipboard@0"
        },
        {
          "command": "nova.projectExplorer.copyPath",
          "when": "view == novaProjectExplorer && viewItem == novaProjectExplorerUnit",
          "group": "clipboard@0"
        }
      ]
    },
    "configuration": {
      "title": "Nova",
      "properties": {
        "nova.server.path": {
          "type": [
            "string",
            "null"
          ],
          "default": null,
          "scope": "resource",
          "description": "Override the nova-lsp binary path. Supports ~ and ${workspaceFolder}. Relative paths resolve against the target workspace folder. When set, Nova will not download or manage the server for that workspace folder."
        },
        "nova.server.args": {
          "type": "array",
          "default": [
            "--stdio"
          ],
          "items": {
            "type": "string"
          },
          "description": "Arguments passed to nova-lsp. Defaults to [\"--stdio\"]."
        },
        "nova.dap.path": {
          "type": [
            "string",
            "null"
          ],
          "default": null,
          "scope": "resource",
          "description": "Override the nova-dap binary path (debug adapter). Supports ~ and ${workspaceFolder}. Relative paths resolve against the target workspace folder. When unset for a workspace folder, Nova will search $PATH and can fall back to managed downloads (nova.download.mode)."
        },
        "nova.download.mode": {
          "type": "string",
          "enum": [
            "auto",
            "prompt",
            "off"
          ],
          "default": "prompt",
          "description": "Whether the extension should download nova-lsp/nova-dap binaries when missing. \"prompt\" shows a modal prompt, \"auto\" downloads automatically, \"off\" disables downloads."
        },
        "nova.download.releaseTag": {
          "type": "string",
          "default": "v0.1.0",
          "description": "Git tag to download binaries from (e.g. \"v0.1.0\" or \"latest\"). Defaults to v${extensionVersion} for packaged releases."
        },
        "nova.download.baseUrl": {
          "type": "string",
          "default": "https://github.com/wilson-anysphere/indonesia/releases/download",
          "description": "GitHub Releases download base URL (e.g. https://github.com/<owner>/<repo>/releases/download). Nova uses this to locate the repository and download matching nova-lsp/nova-dap assets."
        },
        "nova.download.allowPrerelease": {
          "type": "boolean",
          "default": false,
          "description": "Allow using pre-release builds when resolving nova.download.releaseTag=latest."
        },
        "nova.download.allowVersionMismatch": {
          "type": "boolean",
          "default": false,
          "description": "Allow using nova-lsp / nova-dap binaries whose --version output does not match the extension version."
        },
        "nova.lsp.configPath": {
          "type": [
            "string",
            "null"
          ],
          "default": null,
          "scope": "resource",
          "description": "Path to a Nova TOML config file. Supports ~ and ${workspaceFolder}. Relative paths resolve against the target workspace folder. When set for a workspace folder, Nova passes it to nova-lsp via --config and NOVA_CONFIG_PATH."
        },
        "nova.lsp.extraArgs": {
          "type": "array",
          "default": [],
          "items": {
            "type": "string"
          },
          "description": "Additional command-line arguments to pass to nova-lsp."
        },
        "nova.ai.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Master toggle for Nova AI features. When disabled, the extension hides AI code actions/completions, forces server-side AI off (e.g. via NOVA_DISABLE_AI=1), and strips NOVA_AI_* environment variables from nova-lsp."
        },
        "nova.aiCompletions.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable Nova AI multi-token completions via nova/completion/more. When disabled, the extension stops polling and disables multi-token completions server-side (e.g. via NOVA_DISABLE_AI_COMPLETIONS=1)."
        },
        "nova.aiCompletions.maxItems": {
          "type": "number",
          "default": 5,
          "minimum": 0,
          "description": "Maximum number of AI completion items to request (async multi-token completions). Set to 0 to disable multi-token completions. Applied server-side via NOVA_AI_COMPLETIONS_MAX_ITEMS (read at server startup; restart required)."
        },
        "nova.aiCompletions.requestTimeoutMs": {
          "type": "number",
          "default": 1000,
          "minimum": 0,
          "description": "Max wall-clock time (ms) to poll nova/completion/more for async AI completions."
        },
        "nova.aiCompletions.pollIntervalMs": {
          "type": "number",
          "default": 50,
          "minimum": 1,
          "description": "Base polling interval (ms) for nova/completion/more. Nova uses a short exponential backoff derived from this value."
        },
        "nova.debug.adapterPath": {
          "type": [
            "string",
            "null"
          ],
          "default": null,
          "description": "Deprecated alias for nova.dap.path."
        },
        "nova.debug.host": {
          "type": "string",
          "default": "127.0.0.1",
          "description": "Default JDWP host for Nova debug sessions (IP address or hostname)."
        },
        "nova.debug.port": {
          "type": "number",
          "default": 5005,
          "minimum": 1,
          "maximum": 65535,
          "description": "Default JDWP port for Nova debug sessions."
        },
        "nova.debug.legacyAdapter": {
          "type": "boolean",
          "default": false,
          "description": "Start nova-dap with --legacy (useful for troubleshooting)."
        },
        "nova.build.autoReloadOnBuildFileChange": {
          "type": "boolean",
          "default": true,
          "scope": "resource",
          "description": "Automatically reload Nova's project model for a workspace folder when build configuration files (pom.xml, build.gradle, WORKSPACE, etc.) change."
        },
        "nova.tests.buildTool": {
          "type": "string",
          "enum": [
            "auto",
            "maven",
            "gradle",
            "prompt"
          ],
          "default": "auto",
          "scope": "resource",
          "description": "Build tool to use for test runs/debugging for a workspace folder. Use 'prompt' to choose each time."
        },
        "nova.build.buildTool": {
          "type": "string",
          "enum": [
            "auto",
            "maven",
            "gradle",
            "prompt"
          ],
          "default": "auto",
          "scope": "resource",
          "description": "Build tool to use for project builds/reloads. Use 'prompt' to choose each time."
        }
      }
    },
    "debuggers": [
      {
        "type": "nova",
        "label": "Nova",
        "languages": [
          "java"
        ],
        "configurationAttributes": {
          "attach": {
            "required": [
              "port"
            ],
            "properties": {
              "name": {
                "type": "string",
                "description": "Name of the debug configuration."
              },
              "host": {
                "type": "string",
                "default": "127.0.0.1",
                "description": "JDWP host to attach to (IP address or hostname)."
              },
              "port": {
                "type": "number",
                "default": 5005,
                "minimum": 1,
                "maximum": 65535,
                "description": "JDWP port to attach to."
              },
              "projectRoot": {
                "type": "string",
                "description": "Workspace folder root used to infer source roots for stack frame and breakpoint source mapping."
              },
              "sourceRoots": {
                "type": "array",
                "items": { "type": "string" },
                "description": "Explicit source roots used for stack frame and breakpoint source mapping."
              }
            }
          },
          "launch": {
            "properties": {
              "name": {
                "type": "string",
                "description": "Name of the debug configuration."
              },
              "host": {
                "type": "string",
                "default": "127.0.0.1",
                "description": "JDWP host to connect to (IP address or hostname)."
              },
              "port": {
                "type": "number",
                "default": 5005,
                "minimum": 1,
                "maximum": 65535,
                "description": "JDWP port to connect to."
              },
              "projectRoot": {
                "type": "string",
                "description": "Workspace folder root used to infer source roots for stack frame and breakpoint source mapping."
              },
              "sourceRoots": {
                "type": "array",
                "items": { "type": "string" },
                "description": "Explicit source roots used for stack frame and breakpoint source mapping."
              }
            }
          }
        },
        "initialConfigurations": [
          {
            "type": "nova",
            "request": "attach",
            "name": "Nova: Attach (5005)",
            "host": "127.0.0.1",
            "port": 5005,
            "projectRoot": "${workspaceFolder}"
          }
        ]
      }
    ]
  },
  "scripts": {
    "sync-version": "node scripts/sync-version.mjs",
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "test": "node -e \"require('fs').rmSync('out', { recursive: true, force: true })\" && npm run compile && node --test out/__tests__/aiCompletionMore.node.js out/__tests__/lspArgs.node-test.js out/__tests__/packageJsonCommands.node-test.js out/__tests__/noManualFileOperationsForwarding.node-test.js out/__tests__/novaCapabilities.node-test.js out/__tests__/safeMode.node-test.js out/__tests__/fileWatchers.node-test.js out/__tests__/aiCommands.node-test.js out/__tests__/configChange.node-test.js && vitest run",
    "vscode:prepublish": "npm run compile",
    "package": "npm run sync-version && npm run compile && node scripts/ensure-dist.mjs && vsce package --skip-license --out dist/nova.vsix"
  },
  "dependencies": {
    "yauzl": "^2.10.0",
    "vscode-languageclient": "^9.0.1"
  },
  "devDependencies": {
    "@types/yauzl": "^2.10.3",
    "@types/node": "^20.11.0",
    "@types/vscode": "^1.85.0",
    "@vscode/vsce": "^2.26.0",
    "memfs": "^4.17.0",
    "typescript": "^5.3.3",
    "vitest": "^2.1.8"
  }
}
